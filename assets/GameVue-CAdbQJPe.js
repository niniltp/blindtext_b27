var ze=Object.defineProperty;var Ve=(t,n,a)=>n in t?ze(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var L=(t,n,a)=>Ve(t,typeof n!="symbol"?n+"":n,a);import{s as Q,i as le,B as Z,c as Se,m as F,a as $,o as I,b as U,d as T,r as D,e as Ae,t as S,f as V,g as z,h as je,j as Ee,k as C,l as Re,_ as We,u as w,w as ce,n as X,p as Pe,q as He,F as A,v as K,x as P,y as J,z as de,A as Xe,C as fe,D as ee,E as pe,G as he,H as Ye}from"./index-D5r5VQmz.js";var Ke={name:"BaseEditableHolder",extends:Q,emits:["update:modelValue","value-change"],props:{modelValue:{type:null,default:void 0},defaultValue:{type:null,default:void 0},name:{type:String,default:void 0},invalid:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},formControl:{type:Object,default:void 0}},inject:{$parentInstance:{default:void 0},$pcForm:{default:void 0},$pcFormField:{default:void 0}},data:function(){return{d_value:this.defaultValue||this.modelValue}},watch:{modelValue:function(n){this.d_value=n},defaultValue:function(n){this.d_value=n},$formName:{immediate:!0,handler:function(n){var a,u;this.formField=((a=this.$pcForm)===null||a===void 0||(u=a.register)===null||u===void 0?void 0:u.call(a,n,this.$formControl))||{}}},$formControl:{immediate:!0,handler:function(n){var a,u;this.formField=((a=this.$pcForm)===null||a===void 0||(u=a.register)===null||u===void 0?void 0:u.call(a,this.$formName,n))||{}}},$formDefaultValue:{immediate:!0,handler:function(n){this.d_value!==n&&(this.d_value=n)}},$formValue:{immediate:!1,handler:function(n){var a;(a=this.$pcForm)!==null&&a!==void 0&&a.getFieldState(this.$formName)&&n!==this.d_value&&(this.d_value=n)}}},formField:{},methods:{writeValue:function(n,a){var u,s;this.controlled&&(this.d_value=n,this.$emit("update:modelValue",n)),this.$emit("value-change",n),(u=(s=this.formField).onChange)===null||u===void 0||u.call(s,{originalEvent:a,value:n})},findNonEmpty:function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return a.find(le)}},computed:{$filled:function(){return le(this.d_value)},$invalid:function(){var n,a;return!this.$formNovalidate&&this.findNonEmpty(this.invalid,(n=this.$pcFormField)===null||n===void 0||(n=n.$field)===null||n===void 0?void 0:n.invalid,(a=this.$pcForm)===null||a===void 0||(a=a.getFieldState(this.$formName))===null||a===void 0?void 0:a.invalid)},$formName:function(){var n;return this.$formNovalidate?void 0:this.name||((n=this.$formControl)===null||n===void 0?void 0:n.name)},$formControl:function(){var n;return this.formControl||((n=this.$pcFormField)===null||n===void 0?void 0:n.formControl)},$formNovalidate:function(){var n;return(n=this.$formControl)===null||n===void 0?void 0:n.novalidate},$formDefaultValue:function(){var n,a;return this.findNonEmpty(this.d_value,(n=this.$pcFormField)===null||n===void 0?void 0:n.initialValue,(a=this.$pcForm)===null||a===void 0||(a=a.initialValues)===null||a===void 0?void 0:a[this.$formName])},$formValue:function(){var n,a;return this.findNonEmpty((n=this.$pcFormField)===null||n===void 0||(n=n.$field)===null||n===void 0?void 0:n.value,(a=this.$pcForm)===null||a===void 0||(a=a.getFieldState(this.$formName))===null||a===void 0?void 0:a.value)},controlled:function(){return this.$inProps.hasOwnProperty("modelValue")||!this.$inProps.hasOwnProperty("modelValue")&&!this.$inProps.hasOwnProperty("defaultValue")},filled:function(){return this.$filled}}},Je={name:"BaseInput",extends:Ke,props:{size:{type:String,default:null},fluid:{type:Boolean,default:null},variant:{type:String,default:null}},inject:{$parentInstance:{default:void 0},$pcFluid:{default:void 0}},computed:{$variant:function(){var n;return(n=this.variant)!==null&&n!==void 0?n:this.$primevue.config.inputStyle||this.$primevue.config.inputVariant},$fluid:function(){var n;return(n=this.fluid)!==null&&n!==void 0?n:!!this.$pcFluid},hasFluid:function(){return this.$fluid}}},Ge=({dt:t})=>`
.p-inputtext {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${t("inputtext.color")};
    background: ${t("inputtext.background")};
    padding-block: ${t("inputtext.padding.y")};
    padding-inline: ${t("inputtext.padding.x")};
    border: 1px solid ${t("inputtext.border.color")};
    transition: background ${t("inputtext.transition.duration")}, color ${t("inputtext.transition.duration")}, border-color ${t("inputtext.transition.duration")}, outline-color ${t("inputtext.transition.duration")}, box-shadow ${t("inputtext.transition.duration")};
    appearance: none;
    border-radius: ${t("inputtext.border.radius")};
    outline-color: transparent;
    box-shadow: ${t("inputtext.shadow")};
}

.p-inputtext:enabled:hover {
    border-color: ${t("inputtext.hover.border.color")};
}

.p-inputtext:enabled:focus {
    border-color: ${t("inputtext.focus.border.color")};
    box-shadow: ${t("inputtext.focus.ring.shadow")};
    outline: ${t("inputtext.focus.ring.width")} ${t("inputtext.focus.ring.style")} ${t("inputtext.focus.ring.color")};
    outline-offset: ${t("inputtext.focus.ring.offset")};
}

.p-inputtext.p-invalid {
    border-color: ${t("inputtext.invalid.border.color")};
}

.p-inputtext.p-variant-filled {
    background: ${t("inputtext.filled.background")};
}

.p-inputtext.p-variant-filled:enabled:hover {
    background: ${t("inputtext.filled.hover.background")};
}

.p-inputtext.p-variant-filled:enabled:focus {
    background: ${t("inputtext.filled.focus.background")};
}

.p-inputtext:disabled {
    opacity: 1;
    background: ${t("inputtext.disabled.background")};
    color: ${t("inputtext.disabled.color")};
}

.p-inputtext::placeholder {
    color: ${t("inputtext.placeholder.color")};
}

.p-inputtext.p-invalid::placeholder {
    color: ${t("inputtext.invalid.placeholder.color")};
}

.p-inputtext-sm {
    font-size: ${t("inputtext.sm.font.size")};
    padding-block: ${t("inputtext.sm.padding.y")};
    padding-inline: ${t("inputtext.sm.padding.x")};
}

.p-inputtext-lg {
    font-size: ${t("inputtext.lg.font.size")};
    padding-block: ${t("inputtext.lg.padding.y")};
    padding-inline: ${t("inputtext.lg.padding.x")};
}

.p-inputtext-fluid {
    width: 100%;
}
`,Qe={root:function(n){var a=n.instance,u=n.props;return["p-inputtext p-component",{"p-filled":a.$filled,"p-inputtext-sm p-inputfield-sm":u.size==="small","p-inputtext-lg p-inputfield-lg":u.size==="large","p-invalid":a.$invalid,"p-variant-filled":a.$variant==="filled","p-inputtext-fluid":a.$fluid}]}},Ze=Z.extend({name:"inputtext",style:Ge,classes:Qe}),et={name:"BaseInputText",extends:Je,style:Ze,provide:function(){return{$pcInputText:this,$parentInstance:this}}};function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Y(t)}function tt(t,n,a){return(n=nt(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function nt(t){var n=rt(t,"string");return Y(n)=="symbol"?n:n+""}function rt(t,n){if(Y(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var u=a.call(t,n);if(Y(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Ne={name:"InputText",extends:et,inheritAttrs:!1,methods:{onInput:function(n){this.writeValue(n.target.value,n)}},computed:{attrs:function(){return F(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)},dataP:function(){return Se(tt({invalid:this.$invalid,fluid:this.$fluid,filled:this.$variant==="filled"},this.size,this.size))}}},it=["value","name","disabled","aria-invalid","data-p"];function at(t,n,a,u,s,e){return I(),$("input",F({type:"text",class:t.cx("root"),value:t.d_value,name:t.name,disabled:t.disabled,"aria-invalid":t.$invalid||void 0,"data-p":e.dataP,onInput:n[0]||(n[0]=function(){return e.onInput&&e.onInput.apply(e,arguments)})},e.attrs),null,16,it)}Ne.render=at;var st=({dt:t})=>`
.p-card {
    background: ${t("card.background")};
    color: ${t("card.color")};
    box-shadow: ${t("card.shadow")};
    border-radius: ${t("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${t("card.caption.gap")};
}

.p-card-body {
    padding: ${t("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${t("card.body.gap")};
}

.p-card-title {
    font-size: ${t("card.title.font.size")};
    font-weight: ${t("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${t("card.subtitle.color")};
}
`,ot={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},ut=Z.extend({name:"card",style:st,classes:ot}),lt={name:"BaseCard",extends:Q,style:ut,provide:function(){return{$pcCard:this,$parentInstance:this}}},se={name:"Card",extends:lt,inheritAttrs:!1};function ct(t,n,a,u,s,e){return I(),$("div",F({class:t.cx("root")},t.ptmi("root")),[t.$slots.header?(I(),$("div",F({key:0,class:t.cx("header")},t.ptm("header")),[D(t.$slots,"header")],16)):U("",!0),T("div",F({class:t.cx("body")},t.ptm("body")),[t.$slots.title||t.$slots.subtitle?(I(),$("div",F({key:0,class:t.cx("caption")},t.ptm("caption")),[t.$slots.title?(I(),$("div",F({key:0,class:t.cx("title")},t.ptm("title")),[D(t.$slots,"title")],16)):U("",!0),t.$slots.subtitle?(I(),$("div",F({key:1,class:t.cx("subtitle")},t.ptm("subtitle")),[D(t.$slots,"subtitle")],16)):U("",!0)],16)):U("",!0),T("div",F({class:t.cx("content")},t.ptm("content")),[D(t.$slots,"content")],16),t.$slots.footer?(I(),$("div",F({key:1,class:t.cx("footer")},t.ptm("footer")),[D(t.$slots,"footer")],16)):U("",!0)],16)],16)}se.render=ct;var dt=({dt:t})=>`
.p-progressbar {
    position: relative;
    overflow: hidden;
    height: ${t("progressbar.height")};
    background: ${t("progressbar.background")};
    border-radius: ${t("progressbar.border.radius")};
}

.p-progressbar-value {
    margin: 0;
    background: ${t("progressbar.value.background")};
}

.p-progressbar-label {
    color: ${t("progressbar.label.color")};
    font-size: ${t("progressbar.label.font.size")};
    font-weight: ${t("progressbar.label.font.weight")};
}

.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 1s ease-in-out;
}

.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}

.p-progressbar-indeterminate .p-progressbar-value::before {
    content: "";
    position: absolute;
    background: inherit;
    inset-block-start: 0;
    inset-inline-start: 0;
    inset-block-end: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}

.p-progressbar-indeterminate .p-progressbar-value::after {
    content: "";
    position: absolute;
    background: inherit;
    inset-block-start: 0;
    inset-inline-start: 0;
    inset-block-end: 0;
    will-change: inset-inline-start, inset-inline-end;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
}

@keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim {
    0% {
        inset-inline-start: -35%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
    100% {
        inset-inline-start: 100%;
        inset-inline-end: -90%;
    }
}

@keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
    0% {
        inset-inline-start: -200%;
        inset-inline-end: 100%;
    }
    60% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
    100% {
        inset-inline-start: 107%;
        inset-inline-end: -8%;
    }
}
`,ft={root:function(n){var a=n.instance;return["p-progressbar p-component",{"p-progressbar-determinate":a.determinate,"p-progressbar-indeterminate":a.indeterminate}]},value:"p-progressbar-value",label:"p-progressbar-label"},pt=Z.extend({name:"progressbar",style:dt,classes:ft}),ht={name:"BaseProgressBar",extends:Q,props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},style:pt,provide:function(){return{$pcProgressBar:this,$parentInstance:this}}},Oe={name:"ProgressBar",extends:ht,inheritAttrs:!1,computed:{progressStyle:function(){return{width:this.value+"%",display:"flex"}},indeterminate:function(){return this.mode==="indeterminate"},determinate:function(){return this.mode==="determinate"},dataP:function(){return Se({determinate:this.determinate,indeterminate:this.indeterminate})}}},mt=["aria-valuenow","data-p"],vt=["data-p"],bt=["data-p"],gt=["data-p"];function yt(t,n,a,u,s,e){return I(),$("div",F({role:"progressbar",class:t.cx("root"),"aria-valuemin":"0","aria-valuenow":t.value,"aria-valuemax":"100","data-p":e.dataP},t.ptmi("root")),[e.determinate?(I(),$("div",F({key:0,class:t.cx("value"),style:e.progressStyle,"data-p":e.dataP},t.ptm("value")),[t.value!=null&&t.value!==0&&t.showValue?(I(),$("div",F({key:0,class:t.cx("label"),"data-p":e.dataP},t.ptm("label")),[D(t.$slots,"default",{},function(){return[Ae(S(t.value+"%"),1)]})],16,bt)):U("",!0)],16,vt)):e.indeterminate?(I(),$("div",F({key:1,class:t.cx("value"),"data-p":e.dataP},t.ptm("value")),null,16,gt)):U("",!0)],16,mt)}Oe.render=yt;var xt=({dt:t})=>`
.p-scrollpanel-content-container {
    overflow: hidden;
    width: 100%;
    height: 100%;
    position: relative;
    z-index: 1;
    float: left;
}

.p-scrollpanel-content {
    height: calc(100% + calc(2 * ${t("scrollpanel.bar.size")}));
    width: calc(100% + calc(2 * ${t("scrollpanel.bar.size")}));
    padding-inline: 0 calc(2 * ${t("scrollpanel.bar.size")});
    padding-block: 0 calc(2 * ${t("scrollpanel.bar.size")});
    position: relative;
    overflow: auto;
    box-sizing: border-box;
    scrollbar-width: none;
}

.p-scrollpanel-content::-webkit-scrollbar {
    display: none;
}

.p-scrollpanel-bar {
    position: relative;
    border-radius: ${t("scrollpanel.bar.border.radius")};
    z-index: 2;
    cursor: pointer;
    opacity: 0;
    outline-color: transparent;
    background: ${t("scrollpanel.bar.background")};
    border: 0 none;
    transition: outline-color ${t("scrollpanel.transition.duration")}, opacity ${t("scrollpanel.transition.duration")};
}

.p-scrollpanel-bar:focus-visible {
    box-shadow: ${t("scrollpanel.bar.focus.ring.shadow")};
    outline: ${t("scrollpanel.barfocus.ring.width")} ${t("scrollpanel.bar.focus.ring.style")} ${t("scrollpanel.bar.focus.ring.color")};
    outline-offset: ${t("scrollpanel.barfocus.ring.offset")};
}

.p-scrollpanel-bar-y {
    width: ${t("scrollpanel.bar.size")};
    inset-block-start: 0;
}

.p-scrollpanel-bar-x {
    height: ${t("scrollpanel.bar.size")};
    inset-block-end: 0;
}

.p-scrollpanel-hidden {
    visibility: hidden;
}

.p-scrollpanel:hover .p-scrollpanel-bar,
.p-scrollpanel:active .p-scrollpanel-bar {
    opacity: 1;
}

.p-scrollpanel-grabbed {
    user-select: none;
}
`,kt={root:"p-scrollpanel p-component",contentContainer:"p-scrollpanel-content-container",content:"p-scrollpanel-content",barX:"p-scrollpanel-bar p-scrollpanel-bar-x",barY:"p-scrollpanel-bar p-scrollpanel-bar-y"},wt=Z.extend({name:"scrollpanel",style:xt,classes:kt}),It={name:"BaseScrollPanel",extends:Q,props:{step:{type:Number,default:5}},style:wt,provide:function(){return{$pcScrollPanel:this,$parentInstance:this}}},oe={name:"ScrollPanel",extends:It,inheritAttrs:!1,initialized:!1,documentResizeListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,frame:null,scrollXRatio:null,scrollYRatio:null,isXBarClicked:!1,isYBarClicked:!1,lastPageX:null,lastPageY:null,timer:null,outsideClickListener:null,data:function(){return{orientation:"vertical",lastScrollTop:0,lastScrollLeft:0}},mounted:function(){this.$el.offsetParent&&this.initialize()},updated:function(){!this.initialized&&this.$el.offsetParent&&this.initialize()},beforeUnmount:function(){this.unbindDocumentResizeListener(),this.frame&&window.cancelAnimationFrame(this.frame)},methods:{initialize:function(){this.moveBar(),this.bindDocumentResizeListener(),this.calculateContainerHeight()},calculateContainerHeight:function(){var n=getComputedStyle(this.$el),a=getComputedStyle(this.$refs.xBar),u=je(this.$el)-parseInt(a.height,10);n["max-height"]!=="none"&&u===0&&(this.$refs.content.offsetHeight+parseInt(a.height,10)>parseInt(n["max-height"],10)?this.$el.style.height=n["max-height"]:this.$el.style.height=this.$refs.content.offsetHeight+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+"px")},moveBar:function(){var n=this;if(this.$refs.content){var a=this.$refs.content.scrollWidth,u=this.$refs.content.clientWidth,s=(this.$el.clientHeight-this.$refs.xBar.clientHeight)*-1;this.scrollXRatio=u/a;var e=this.$refs.content.scrollHeight,r=this.$refs.content.clientHeight,f=(this.$el.clientWidth-this.$refs.yBar.clientWidth)*-1;this.scrollYRatio=r/e,this.frame=this.requestAnimationFrame(function(){n.$refs.xBar&&(n.scrollXRatio>=1?(n.$refs.xBar.setAttribute("data-p-scrollpanel-hidden","true"),!n.isUnstyled&&z(n.$refs.xBar,"p-scrollpanel-hidden")):(n.$refs.xBar.setAttribute("data-p-scrollpanel-hidden","false"),!n.isUnstyled&&V(n.$refs.xBar,"p-scrollpanel-hidden"),n.$refs.xBar.style.cssText="width:"+Math.max(n.scrollXRatio*100,10)+"%; inset-inline-start:"+Math.abs(n.$refs.content.scrollLeft)/a*100+"%;bottom:"+s+"px;")),n.$refs.yBar&&(n.scrollYRatio>=1?(n.$refs.yBar.setAttribute("data-p-scrollpanel-hidden","true"),!n.isUnstyled&&z(n.$refs.yBar,"p-scrollpanel-hidden")):(n.$refs.yBar.setAttribute("data-p-scrollpanel-hidden","false"),!n.isUnstyled&&V(n.$refs.yBar,"p-scrollpanel-hidden"),n.$refs.yBar.style.cssText="height:"+Math.max(n.scrollYRatio*100,10)+"%; top: calc("+n.$refs.content.scrollTop/e*100+"% - "+n.$refs.xBar.clientHeight+"px); inset-inline-end:"+f+"px;"))})}},onYBarMouseDown:function(n){this.isYBarClicked=!0,this.$refs.yBar.focus(),this.lastPageY=n.pageY,this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","true"),!this.isUnstyled&&z(this.$refs.yBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","true"),!this.isUnstyled&&z(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),n.preventDefault()},onXBarMouseDown:function(n){this.isXBarClicked=!0,this.$refs.xBar.focus(),this.lastPageX=n.pageX,this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&z(this.$refs.xBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&z(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),n.preventDefault()},onScroll:function(n){this.lastScrollLeft!==n.target.scrollLeft?(this.lastScrollLeft=n.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==n.target.scrollTop&&(this.lastScrollTop=n.target.scrollTop,this.orientation="vertical"),this.moveBar()},onKeyDown:function(n){if(this.orientation==="vertical")switch(n.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),n.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),n.preventDefault();break}case"ArrowLeft":case"ArrowRight":{n.preventDefault();break}}else if(this.orientation==="horizontal")switch(n.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),n.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),n.preventDefault();break}case"ArrowDown":case"ArrowUp":{n.preventDefault();break}}},onKeyUp:function(){this.clearTimer()},repeat:function(n,a){this.$refs.content[n]+=a,this.moveBar()},setTimer:function(n,a){var u=this;this.clearTimer(),this.timer=setTimeout(function(){u.repeat(n,a)},40)},clearTimer:function(){this.timer&&clearTimeout(this.timer)},onDocumentMouseMove:function(n){this.isXBarClicked?this.onMouseMoveForXBar(n):this.isYBarClicked?this.onMouseMoveForYBar(n):(this.onMouseMoveForXBar(n),this.onMouseMoveForYBar(n))},onMouseMoveForXBar:function(n){var a=this,u=n.pageX-this.lastPageX;this.lastPageX=n.pageX,this.frame=this.requestAnimationFrame(function(){a.$refs.content.scrollLeft+=u/a.scrollXRatio})},onMouseMoveForYBar:function(n){var a=this,u=n.pageY-this.lastPageY;this.lastPageY=n.pageY,this.frame=this.requestAnimationFrame(function(){a.$refs.content.scrollTop+=u/a.scrollYRatio})},onFocus:function(n){this.$refs.xBar.isSameNode(n.target)?this.orientation="horizontal":this.$refs.yBar.isSameNode(n.target)&&(this.orientation="vertical")},onBlur:function(){this.orientation==="horizontal"&&(this.orientation="vertical")},onDocumentMouseUp:function(){this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&V(this.$refs.yBar,"p-scrollpanel-grabbed"),this.$refs.xBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&V(this.$refs.xBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&V(document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1},requestAnimationFrame:function(n){var a=window.requestAnimationFrame||this.timeoutFrame;return a(n)},refresh:function(){this.moveBar()},scrollTop:function(n){var a=this.$refs.content.scrollHeight-this.$refs.content.clientHeight;n=n>a?a:n>0?n:0,this.$refs.content.scrollTop=n},timeoutFrame:function(n){setTimeout(n,0)},bindDocumentMouseListeners:function(){var n=this;this.documentMouseMoveListener||(this.documentMouseMoveListener=function(a){n.onDocumentMouseMove(a)},document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=function(a){n.onDocumentMouseUp(a)},document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseListeners:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},bindDocumentResizeListener:function(){var n=this;this.documentResizeListener||(this.documentResizeListener=function(){n.moveBar()},window.addEventListener("resize",this.documentResizeListener))},unbindDocumentResizeListener:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},computed:{contentId:function(){return this.$id+"_content"}}},$t=["id"],Tt=["aria-controls","aria-valuenow"],Ft=["aria-controls","aria-valuenow"];function Bt(t,n,a,u,s,e){return I(),$("div",F({class:t.cx("root")},t.ptmi("root")),[T("div",F({class:t.cx("contentContainer")},t.ptm("contentContainer")),[T("div",F({ref:"content",id:e.contentId,class:t.cx("content"),onScroll:n[0]||(n[0]=function(){return e.onScroll&&e.onScroll.apply(e,arguments)}),onMouseenter:n[1]||(n[1]=function(){return e.moveBar&&e.moveBar.apply(e,arguments)})},t.ptm("content")),[D(t.$slots,"default")],16,$t)],16),T("div",F({ref:"xBar",class:t.cx("barx"),tabindex:"0",role:"scrollbar","aria-orientation":"horizontal","aria-controls":e.contentId,"aria-valuenow":s.lastScrollLeft,onMousedown:n[2]||(n[2]=function(){return e.onXBarMouseDown&&e.onXBarMouseDown.apply(e,arguments)}),onKeydown:n[3]||(n[3]=function(r){return e.onKeyDown(r)}),onKeyup:n[4]||(n[4]=function(){return e.onKeyUp&&e.onKeyUp.apply(e,arguments)}),onFocus:n[5]||(n[5]=function(){return e.onFocus&&e.onFocus.apply(e,arguments)}),onBlur:n[6]||(n[6]=function(){return e.onBlur&&e.onBlur.apply(e,arguments)})},t.ptm("barx"),{"data-pc-group-section":"bar"}),null,16,Tt),T("div",F({ref:"yBar",class:t.cx("bary"),tabindex:"0",role:"scrollbar","aria-orientation":"vertical","aria-controls":e.contentId,"aria-valuenow":s.lastScrollTop,onMousedown:n[7]||(n[7]=function(){return e.onYBarMouseDown&&e.onYBarMouseDown.apply(e,arguments)}),onKeydown:n[8]||(n[8]=function(r){return e.onKeyDown(r)}),onKeyup:n[9]||(n[9]=function(){return e.onKeyUp&&e.onKeyUp.apply(e,arguments)}),onFocus:n[10]||(n[10]=function(){return e.onFocus&&e.onFocus.apply(e,arguments)})},t.ptm("bary"),{"data-pc-group-section":"bar"}),null,16,Ft)],16)}oe.render=Bt;const Ct=`Je persistais à croire qu'il n'existait pas un enfer plus affreux que celui-ci\r
Mais malgré tout, le jour le plus obscur de l'humanité est arrivé abruptement\r
L'écho qui frappe à notre porte continue à être tourmenté\r
Le jour le plus ténébreux qui lui s'est invité à l'improviste dans nos vies tel un cauchemar\r
Ceux qui nous ont jadis trahis sont les ennemis que nous devons exterminer \r
Ce jour-là, avec quelle expression nous observaient-ils à travers leurs yeux \r
À quoi devons-nous renoncer afin de repousser ces cauchemars,\r
Si ni nos vies et âmes ne suffisent pas pour en payer le prix\r
\r
Dévouons-nous  Dévouons-nous  Dévouons notre cœur.\r
Tous les sacrifices que nous avons réalisés étaient pour ce moment \r
Dévouons-nous  Dévouons-nous  Dévouons notre cœur \r
De nos propres mains, il est temps de se frayer un passage vers notre avenir \r
Ceux qui nous ont auparavant trompées sont nos ennemis méritant notre haine.\r
Malgré ça, je me demande à quoi leurs voix ressemblent et quels mots\r
usèrent-ils lorsqu'ils se sont manifestés face à nous.\r
Est-ce que cela me ressemble à penser et abattre des démons \r
Nous ne perdrons aucun outil, compétences ou même tactiques.\r
\r
Dévouons-nous  Dévouons-nous  Dévouons notre cœur.\r
Tous les sacrifices que nous avons réalisés étaient pour ce moment\r
Dévouons-nous  Dévouons-nous  Dévouons notre cœur \r
De nos propres mains, il est temps de saisir notre victoire \r
Ces monstres mystérieux prennent les visages des êtres humains.\r
Nous éliminerons chacun d'entre eux, jusqu'au dernier visage de cette terre `;function me(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/œ/g,"oe").replace(/æ/g,"ae")}function Ut(t,n){return me(t).toLowerCase()===me(n).toLowerCase()}const Mt=["'",",","-"],St=t=>t.length===1&&t[0]==="",Pt=(t,n)=>{let a=0;for(const u of t)for(const s of u.blindWords)s.isRevealed===n&&a++;return a},Nt=Ee("blindText",()=>{const t=C(null),n=C(null),a=C([]),u=C(0),s=C(0);function e(){var i;const f=Ct.split(`\r
`),c=f.find(o=>o.trim().startsWith("#"));t.value=c?c.replace(/^#\s*/,"").trim():"Untitled";const l=f.filter(o=>o!==c);n.value=l;for(let o=0;o<n.value.length;o++){const d=n.value[o].split(" "),b={id:o,breakLine:St(d),blindWords:[]};if(!b.breakLine){let y=0;for(let v=0;v<d.length;v++){const g=d[v].split(/(\s+|,|'|-)/).filter(h=>h.trim()!==""),x=[];for(const h of g){let k=!1;Mt.includes(h)&&(k=!0),x.push({id:y++,letterCount:h.length,word:h,nLine:o,isRevealed:k})}b.blindWords=b.blindWords.concat(x)}}(i=a.value)==null||i.push(b)}u.value=Pt(a.value,!1)}function r(f){let c=0;for(let l=0;l<a.value.length;l++){const i=a.value[l];i.blindWords=i.blindWords.map(o=>!o.isRevealed&&Ut(o.word,f)?(c++,{...o,isRevealed:!0}):o)}return s.value+=c,c}return{init:e,searchAndRevealWorld:r,title:t,clearContent:n,hiddenContent:a,totalWords:u,totalRevealedWords:s}});function Ot(t,{volume:n=1,playbackRate:a=1,soundEnabled:u=!0,interrupt:s=!1,autoplay:e=!1,onload:r,...f}={}){const c=C(null),l=C(!1),i=C(null),o=C(null);function m(p){var g;typeof r=="function"&&r.call(this,p),i.value=(i.value||((g=o.value)==null?void 0:g.duration())||0)*1e3,e===!0&&(l.value=!0)}return Re(async()=>{await We(()=>import("./howler-D5M1zFl3.js").then(p=>p.h),[]),c.value=Howl,o.value=new c.value({src:w(t),volume:w(n),rate:w(a),onload:m,...f})}),ce(()=>[w(t)],()=>{c.value&&c.value&&o&&o.value&&(o.value=new c.value({src:w(t),volume:w(n),rate:w(a),onload:m,...f}))}),ce(()=>[w(n),w(a)],()=>{o.value&&(o.value.volume(w(n)),o.value.rate(w(a)))}),{play:p=>{typeof p>"u"&&(p={}),!(!o.value||!u&&!p.forceSoundEnabled)&&(s&&o.value.stop(),p.playbackRate&&o.value.rate(p.playbackRate),o.value.play(p.id),o.value.once("end",()=>{o.value&&o.value&&!o.value.playing()&&(l.value=!1)}),l.value=!0)},sound:o,isPlaying:l,duration:i,pause:p=>{o.value&&(o.value.pause(typeof p=="number"?p:void 0),l.value=!1)},stop:p=>{o.value&&(o.value.stop(typeof p=="number"?p:void 0),l.value=!1)}}}const _t="/assets/sfx_right-asK1zyS7.wav",Dt="/assets/sfx_wrong-DQdqL5Wk.mid";var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function In(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qt(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var a=function u(){return this instanceof u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var s=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(a,u,s.get?s:{enumerable:!0,get:function(){return t[u]}})}),a}var N={},G={},te,ve;function Lt(){if(ve)return te;ve=1;function t(s){var e=new u(s),r=e.readChunk();if(r.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+r.id+"'";for(var f=n(r.data),c=[],l=0;!e.eof()&&l<f.numTracks;l++){var i=e.readChunk();if(i.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+i.id+"'";var o=a(i.data);c.push(o)}return{header:f,tracks:c}}function n(s){var e=new u(s),r=e.readUInt16(),f=e.readUInt16(),c={format:r,numTracks:f},l=e.readUInt16();return l&32768?(c.framesPerSecond=256-(l>>8),c.ticksPerFrame=l&255):c.ticksPerBeat=l,c}function a(s){for(var e=new u(s),r=[];!e.eof();){var f=l();r.push(f)}return r;var c;function l(){var i={};i.deltaTime=e.readVarInt();var o=e.readUInt8();if((o&240)===240)if(o===255){i.meta=!0;var m=e.readUInt8(),d=e.readVarInt();switch(m){case 0:if(i.type="sequenceNumber",d!==2)throw"Expected length for sequenceNumber event is 2, got "+d;return i.number=e.readUInt16(),i;case 1:return i.type="text",i.text=e.readString(d),i;case 2:return i.type="copyrightNotice",i.text=e.readString(d),i;case 3:return i.type="trackName",i.text=e.readString(d),i;case 4:return i.type="instrumentName",i.text=e.readString(d),i;case 5:return i.type="lyrics",i.text=e.readString(d),i;case 6:return i.type="marker",i.text=e.readString(d),i;case 7:return i.type="cuePoint",i.text=e.readString(d),i;case 32:if(i.type="channelPrefix",d!=1)throw"Expected length for channelPrefix event is 1, got "+d;return i.channel=e.readUInt8(),i;case 33:if(i.type="portPrefix",d!=1)throw"Expected length for portPrefix event is 1, got "+d;return i.port=e.readUInt8(),i;case 47:if(i.type="endOfTrack",d!=0)throw"Expected length for endOfTrack event is 0, got "+d;return i;case 81:if(i.type="setTempo",d!=3)throw"Expected length for setTempo event is 3, got "+d;return i.microsecondsPerBeat=e.readUInt24(),i;case 84:if(i.type="smpteOffset",d!=5)throw"Expected length for smpteOffset event is 5, got "+d;var b=e.readUInt8(),y={0:24,32:25,64:29,96:30};return i.frameRate=y[b&96],i.hour=b&31,i.min=e.readUInt8(),i.sec=e.readUInt8(),i.frame=e.readUInt8(),i.subFrame=e.readUInt8(),i;case 88:if(i.type="timeSignature",d!=2&&d!=4)throw"Expected length for timeSignature event is 4 or 2, got "+d;return i.numerator=e.readUInt8(),i.denominator=1<<e.readUInt8(),d===4?(i.metronome=e.readUInt8(),i.thirtyseconds=e.readUInt8()):(i.metronome=36,i.thirtyseconds=8),i;case 89:if(i.type="keySignature",d!=2)throw"Expected length for keySignature event is 2, got "+d;return i.key=e.readInt8(),i.scale=e.readUInt8(),i;case 127:return i.type="sequencerSpecific",i.data=e.readBytes(d),i;default:return i.type="unknownMeta",i.data=e.readBytes(d),i.metatypeByte=m,i}}else if(o==240){i.type="sysEx";var d=e.readVarInt();return i.data=e.readBytes(d),i}else if(o==247){i.type="endSysEx";var d=e.readVarInt();return i.data=e.readBytes(d),i}else throw"Unrecognised MIDI event type byte: "+o;else{var v;if((o&128)===0){if(c===null)throw"Running status byte encountered before status byte";v=o,o=c,i.running=!0}else v=e.readUInt8(),c=o;var p=o>>4;switch(i.channel=o&15,p){case 8:return i.type="noteOff",i.noteNumber=v,i.velocity=e.readUInt8(),i;case 9:var g=e.readUInt8();return i.type=g===0?"noteOff":"noteOn",i.noteNumber=v,i.velocity=g,g===0&&(i.byte9=!0),i;case 10:return i.type="noteAftertouch",i.noteNumber=v,i.amount=e.readUInt8(),i;case 11:return i.type="controller",i.controllerType=v,i.value=e.readUInt8(),i;case 12:return i.type="programChange",i.programNumber=v,i;case 13:return i.type="channelAftertouch",i.amount=v,i;case 14:return i.type="pitchBend",i.value=v+(e.readUInt8()<<7)-8192,i;default:throw"Unrecognised MIDI event type: "+p}}}}function u(s){this.buffer=s,this.bufferLen=this.buffer.length,this.pos=0}return u.prototype.eof=function(){return this.pos>=this.bufferLen},u.prototype.readUInt8=function(){var s=this.buffer[this.pos];return this.pos+=1,s},u.prototype.readInt8=function(){var s=this.readUInt8();return s&128?s-256:s},u.prototype.readUInt16=function(){var s=this.readUInt8(),e=this.readUInt8();return(s<<8)+e},u.prototype.readInt16=function(){var s=this.readUInt16();return s&32768?s-65536:s},u.prototype.readUInt24=function(){var s=this.readUInt8(),e=this.readUInt8(),r=this.readUInt8();return(s<<16)+(e<<8)+r},u.prototype.readInt24=function(){var s=this.readUInt24();return s&8388608?s-16777216:s},u.prototype.readUInt32=function(){var s=this.readUInt8(),e=this.readUInt8(),r=this.readUInt8(),f=this.readUInt8();return(s<<24)+(e<<16)+(r<<8)+f},u.prototype.readBytes=function(s){var e=this.buffer.slice(this.pos,this.pos+s);return this.pos+=s,e},u.prototype.readString=function(s){var e=this.readBytes(s);return String.fromCharCode.apply(null,e)},u.prototype.readVarInt=function(){for(var s=0;!this.eof();){var e=this.readUInt8();if(e&128)s+=e&127,s<<=7;else return s+e}return s},u.prototype.readChunk=function(){var s=this.readString(4),e=this.readUInt32(),r=this.readBytes(e);return{id:s,length:e,data:r}},te=t,te}var ne,be;function zt(){if(be)return ne;be=1;function t(e,r){if(typeof e!="object")throw"Invalid MIDI data";r=r||{};var f=e.header||{},c=e.tracks||[],l,i=c.length,o=new s;for(n(o,f,i),l=0;l<i;l++)a(o,c[l],r);return o.buffer}function n(e,r,f){var c=r.format==null?1:r.format,l=128;r.timeDivision?l=r.timeDivision:r.ticksPerFrame&&r.framesPerSecond?l=-(r.framesPerSecond&255)<<8|r.ticksPerFrame&255:r.ticksPerBeat&&(l=r.ticksPerBeat&32767);var i=new s;i.writeUInt16(c),i.writeUInt16(f),i.writeUInt16(l),e.writeChunk("MThd",i.buffer)}function a(e,r,f){var c=new s,l,i=r.length,o=null;for(l=0;l<i;l++)(f.running===!1||!f.running&&!r[l].running)&&(o=null),o=u(c,r[l],o,f.useByte9ForNoteOff);e.writeChunk("MTrk",c.buffer)}function u(e,r,f,c){var l=r.type,i=r.deltaTime,o=r.text||"",m=r.data||[],d=null;switch(e.writeVarInt(i),l){case"sequenceNumber":e.writeUInt8(255),e.writeUInt8(0),e.writeVarInt(2),e.writeUInt16(r.number);break;case"text":e.writeUInt8(255),e.writeUInt8(1),e.writeVarInt(o.length),e.writeString(o);break;case"copyrightNotice":e.writeUInt8(255),e.writeUInt8(2),e.writeVarInt(o.length),e.writeString(o);break;case"trackName":e.writeUInt8(255),e.writeUInt8(3),e.writeVarInt(o.length),e.writeString(o);break;case"instrumentName":e.writeUInt8(255),e.writeUInt8(4),e.writeVarInt(o.length),e.writeString(o);break;case"lyrics":e.writeUInt8(255),e.writeUInt8(5),e.writeVarInt(o.length),e.writeString(o);break;case"marker":e.writeUInt8(255),e.writeUInt8(6),e.writeVarInt(o.length),e.writeString(o);break;case"cuePoint":e.writeUInt8(255),e.writeUInt8(7),e.writeVarInt(o.length),e.writeString(o);break;case"channelPrefix":e.writeUInt8(255),e.writeUInt8(32),e.writeVarInt(1),e.writeUInt8(r.channel);break;case"portPrefix":e.writeUInt8(255),e.writeUInt8(33),e.writeVarInt(1),e.writeUInt8(r.port);break;case"endOfTrack":e.writeUInt8(255),e.writeUInt8(47),e.writeVarInt(0);break;case"setTempo":e.writeUInt8(255),e.writeUInt8(81),e.writeVarInt(3),e.writeUInt24(r.microsecondsPerBeat);break;case"smpteOffset":e.writeUInt8(255),e.writeUInt8(84),e.writeVarInt(5);var b={24:0,25:32,29:64,30:96},y=r.hour&31|b[r.frameRate];e.writeUInt8(y),e.writeUInt8(r.min),e.writeUInt8(r.sec),e.writeUInt8(r.frame),e.writeUInt8(r.subFrame);break;case"timeSignature":e.writeUInt8(255),e.writeUInt8(88),e.writeVarInt(4),e.writeUInt8(r.numerator);var v=Math.floor(Math.log(r.denominator)/Math.LN2)&255;e.writeUInt8(v),e.writeUInt8(r.metronome),e.writeUInt8(r.thirtyseconds||8);break;case"keySignature":e.writeUInt8(255),e.writeUInt8(89),e.writeVarInt(2),e.writeInt8(r.key),e.writeUInt8(r.scale);break;case"sequencerSpecific":e.writeUInt8(255),e.writeUInt8(127),e.writeVarInt(m.length),e.writeBytes(m);break;case"unknownMeta":r.metatypeByte!=null&&(e.writeUInt8(255),e.writeUInt8(r.metatypeByte),e.writeVarInt(m.length),e.writeBytes(m));break;case"sysEx":e.writeUInt8(240),e.writeVarInt(m.length),e.writeBytes(m);break;case"endSysEx":e.writeUInt8(247),e.writeVarInt(m.length),e.writeBytes(m);break;case"noteOff":var p=c!==!1&&r.byte9||c&&r.velocity==0?144:128;d=p|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.noteNumber),e.writeUInt8(r.velocity);break;case"noteOn":d=144|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.noteNumber),e.writeUInt8(r.velocity);break;case"noteAftertouch":d=160|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.noteNumber),e.writeUInt8(r.amount);break;case"controller":d=176|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.controllerType),e.writeUInt8(r.value);break;case"programChange":d=192|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.programNumber);break;case"channelAftertouch":d=208|r.channel,d!==f&&e.writeUInt8(d),e.writeUInt8(r.amount);break;case"pitchBend":d=224|r.channel,d!==f&&e.writeUInt8(d);var g=8192+r.value,x=g&127,h=g>>7&127;e.writeUInt8(x),e.writeUInt8(h);break;default:throw"Unrecognized event type: "+l}return d}function s(){this.buffer=[]}return s.prototype.writeUInt8=function(e){this.buffer.push(e&255)},s.prototype.writeInt8=s.prototype.writeUInt8,s.prototype.writeUInt16=function(e){var r=e>>8&255,f=e&255;this.writeUInt8(r),this.writeUInt8(f)},s.prototype.writeInt16=s.prototype.writeUInt16,s.prototype.writeUInt24=function(e){var r=e>>16&255,f=e>>8&255,c=e&255;this.writeUInt8(r),this.writeUInt8(f),this.writeUInt8(c)},s.prototype.writeInt24=s.prototype.writeUInt24,s.prototype.writeUInt32=function(e){var r=e>>24&255,f=e>>16&255,c=e>>8&255,l=e&255;this.writeUInt8(r),this.writeUInt8(f),this.writeUInt8(c),this.writeUInt8(l)},s.prototype.writeInt32=s.prototype.writeUInt32,s.prototype.writeBytes=function(e){this.buffer=this.buffer.concat(Array.prototype.slice.call(e,0))},s.prototype.writeString=function(e){var r,f=e.length,c=[];for(r=0;r<f;r++)c.push(e.codePointAt(r));this.writeBytes(c)},s.prototype.writeVarInt=function(e){if(e<0)throw"Cannot write negative variable-length integer";if(e<=127)this.writeUInt8(e);else{var r=e,f=[];for(f.push(r&127),r>>=7;r;){var c=r&127|128;f.push(c),r>>=7}this.writeBytes(f.reverse())}},s.prototype.writeChunk=function(e,r){this.writeString(e),this.writeUInt32(r.length),this.writeBytes(r)},ne=t,ne}var ge;function _e(){return ge||(ge=1,G.parseMidi=Lt(),G.writeMidi=zt()),G}var re={},O={},ye;function De(){if(ye)return O;ye=1,Object.defineProperty(O,"__esModule",{value:!0}),O.insert=O.search=void 0;function t(a,u,s){s===void 0&&(s="ticks");var e=0,r=a.length,f=r;if(r>0&&a[r-1][s]<=u)return r-1;for(;e<f;){var c=Math.floor(e+(f-e)/2),l=a[c],i=a[c+1];if(l[s]===u){for(var o=c;o<a.length;o++){var m=a[o];m[s]===u&&(c=o)}return c}else{if(l[s]<u&&i[s]>u)return c;l[s]>u?f=c:l[s]<u&&(e=c+1)}}return-1}O.search=t;function n(a,u,s){if(s===void 0&&(s="ticks"),a.length){var e=t(a,u[s],s);a.splice(e+1,0,u)}else a.push(u)}return O.insert=n,O}var xe;function ue(){return xe||(xe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.keySignatureKeys=void 0;var n=De(),a=new WeakMap;t.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var u=function(){function s(e){var r=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",a.set(this,480),e){a.set(this,e.header.ticksPerBeat),e.tracks.forEach(function(c){c.forEach(function(l){l.meta&&(l.type==="timeSignature"?r.timeSignatures.push({ticks:l.absoluteTime,timeSignature:[l.numerator,l.denominator]}):l.type==="setTempo"?r.tempos.push({bpm:6e7/l.microsecondsPerBeat,ticks:l.absoluteTime}):l.type==="keySignature"&&r.keySignatures.push({key:t.keySignatureKeys[l.key+7],scale:l.scale===0?"major":"minor",ticks:l.absoluteTime}))})});var f=0;e.tracks[0].forEach(function(c){f+=c.deltaTime,c.meta&&(c.type==="trackName"?r.name=c.text:(c.type==="text"||c.type==="cuePoint"||c.type==="marker"||c.type==="lyrics")&&r.meta.push({text:c.text,ticks:f,type:c.type}))}),this.update()}}return s.prototype.update=function(){var e=this,r=0,f=0;this.tempos.sort(function(c,l){return c.ticks-l.ticks}),this.tempos.forEach(function(c,l){var i=l>0?e.tempos[l-1].bpm:e.tempos[0].bpm,o=c.ticks/e.ppq-f,m=60/i*o;c.time=m+r,r=c.time,f+=o}),this.timeSignatures.sort(function(c,l){return c.ticks-l.ticks}),this.timeSignatures.forEach(function(c,l){var i=l>0?e.timeSignatures[l-1]:e.timeSignatures[0],o=(c.ticks-i.ticks)/e.ppq,m=o/i.timeSignature[0]/(i.timeSignature[1]/4);i.measures=i.measures||0,c.measures=m+i.measures})},s.prototype.ticksToSeconds=function(e){var r=(0,n.search)(this.tempos,e);if(r!==-1){var f=this.tempos[r],c=f.time,l=(e-f.ticks)/this.ppq;return c+60/f.bpm*l}else{var i=e/this.ppq;return 60/120*i}},s.prototype.ticksToMeasures=function(e){var r=(0,n.search)(this.timeSignatures,e);if(r!==-1){var f=this.timeSignatures[r],c=(e-f.ticks)/this.ppq;return f.measures+c/(f.timeSignature[0]/f.timeSignature[1])/4}else return e/this.ppq/4},Object.defineProperty(s.prototype,"ppq",{get:function(){return a.get(this)},enumerable:!1,configurable:!0}),s.prototype.secondsToTicks=function(e){var r=(0,n.search)(this.tempos,e,"time");if(r!==-1){var f=this.tempos[r],c=f.time,l=e-c,i=l/(60/f.bpm);return Math.round(f.ticks+i*this.ppq)}else{var o=e/.5;return Math.round(o*this.ppq)}},s.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(e){return{bpm:e.bpm,ticks:e.ticks}}),timeSignatures:this.timeSignatures}},s.prototype.fromJSON=function(e){this.name=e.name,this.tempos=e.tempos.map(function(r){return Object.assign({},r)}),this.timeSignatures=e.timeSignatures.map(function(r){return Object.assign({},r)}),this.keySignatures=e.keySignatures.map(function(r){return Object.assign({},r)}),this.meta=e.meta.map(function(r){return Object.assign({},r)}),a.set(this,e.ppq),this.update()},s.prototype.setTempo=function(e){this.tempos=[{bpm:e,ticks:0}],this.update()},s}();t.Header=u}(re)),re}var j={},ie={},ke;function qe(){return ke||(ke=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ControlChange=t.controlChangeIds=t.controlChangeNames=void 0,t.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},t.controlChangeIds=Object.keys(t.controlChangeNames).reduce(function(s,e){return s[t.controlChangeNames[e]]=e,s},{});var n=new WeakMap,a=new WeakMap,u=function(){function s(e,r){n.set(this,r),a.set(this,e.controllerType),this.ticks=e.absoluteTime,this.value=e.value}return Object.defineProperty(s.prototype,"number",{get:function(){return a.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return t.controlChangeNames[this.number]?t.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"time",{get:function(){var e=n.get(this);return e.ticksToSeconds(this.ticks)},set:function(e){var r=n.get(this);this.ticks=r.secondsToTicks(e)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},s}();t.ControlChange=u}(ie)),ie}var E={},we;function Vt(){if(we)return E;we=1,Object.defineProperty(E,"__esModule",{value:!0}),E.createControlChanges=void 0;var t=qe();function n(){return new Proxy({},{get:function(a,u){if(a[u])return a[u];if(t.controlChangeIds.hasOwnProperty(u))return a[t.controlChangeIds[u]]},set:function(a,u,s){return t.controlChangeIds.hasOwnProperty(u)?a[t.controlChangeIds[u]]=s:a[u]=s,!0}})}return E.createControlChanges=n,E}var R={},Ie;function At(){if(Ie)return R;Ie=1,Object.defineProperty(R,"__esModule",{value:!0}),R.PitchBend=void 0;var t=new WeakMap,n=function(){function a(u,s){t.set(this,s),this.ticks=u.absoluteTime,this.value=u.value}return Object.defineProperty(a.prototype,"time",{get:function(){var u=t.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var s=t.get(this);this.ticks=s.secondsToTicks(u)},enumerable:!1,configurable:!0}),a.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},a}();return R.PitchBend=n,R}var W={},M={},$e;function jt(){return $e||($e=1,Object.defineProperty(M,"__esModule",{value:!0}),M.DrumKitByPatchID=M.InstrumentFamilyByID=M.instrumentByPatchID=void 0,M.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],M.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],M.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),M}var Te;function Et(){if(Te)return W;Te=1,Object.defineProperty(W,"__esModule",{value:!0}),W.Instrument=void 0;var t=jt(),n=new WeakMap,a=function(){function u(s,e){if(this.number=0,n.set(this,e),this.number=0,s){var r=s.find(function(f){return f.type==="programChange"});r&&(this.number=r.programNumber)}}return Object.defineProperty(u.prototype,"name",{get:function(){return this.percussion?t.DrumKitByPatchID[this.number]:t.instrumentByPatchID[this.number]},set:function(s){var e=t.instrumentByPatchID.indexOf(s);e!==-1&&(this.number=e)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"family",{get:function(){return this.percussion?"drums":t.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"percussion",{get:function(){var s=n.get(this);return s.channel===9},enumerable:!1,configurable:!0}),u.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},u.prototype.fromJSON=function(s){this.number=s.number},u}();return W.Instrument=a,W}var H={},Fe;function Rt(){if(Fe)return H;Fe=1,Object.defineProperty(H,"__esModule",{value:!0}),H.Note=void 0;function t(r){var f=Math.floor(r/12)-1;return n(r)+f.toString()}function n(r){var f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],c=r%12;return f[c]}function a(r){var f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return f.indexOf(r)}var u=function(){var r=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,f={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(c){var l=r.exec(c),i=l[1],o=l[2],m=f[i.toLowerCase()];return m+(parseInt(o,10)+1)*12}}(),s=new WeakMap,e=function(){function r(f,c,l){s.set(this,l),this.midi=f.midi,this.velocity=f.velocity,this.noteOffVelocity=c.velocity,this.ticks=f.ticks,this.durationTicks=c.ticks-f.ticks}return Object.defineProperty(r.prototype,"name",{get:function(){return t(this.midi)},set:function(f){this.midi=u(f)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(f){var c=f-this.octave;this.midi+=c*12},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pitch",{get:function(){return n(this.midi)},set:function(f){this.midi=12*(this.octave+1)+a(f)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"duration",{get:function(){var f=s.get(this);return f.ticksToSeconds(this.ticks+this.durationTicks)-f.ticksToSeconds(this.ticks)},set:function(f){var c=s.get(this),l=c.secondsToTicks(this.time+f);this.durationTicks=l-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time",{get:function(){var f=s.get(this);return f.ticksToSeconds(this.ticks)},set:function(f){var c=s.get(this);this.ticks=c.secondsToTicks(f)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bars",{get:function(){var f=s.get(this);return f.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},r}();return H.Note=e,H}var Be;function Ce(){if(Be)return j;Be=1,Object.defineProperty(j,"__esModule",{value:!0}),j.Track=void 0;var t=De(),n=qe(),a=Vt(),u=At(),s=Et(),e=Rt(),r=new WeakMap,f=function(){function c(l,i){var o=this;if(this.name="",this.notes=[],this.controlChanges=(0,a.createControlChanges)(),this.pitchBends=[],r.set(this,i),l){var m=l.find(function(h){return h.type==="trackName"});this.name=m?m.text:""}if(this.instrument=new s.Instrument(l,this),this.channel=0,l){for(var d=l.filter(function(h){return h.type==="noteOn"}),b=l.filter(function(h){return h.type==="noteOff"}),y=function(){var h=d.shift();v.channel=h.channel;var k=b.findIndex(function(q){return q.noteNumber===h.noteNumber&&q.absoluteTime>=h.absoluteTime});if(k!==-1){var B=b.splice(k,1)[0];v.addNote({durationTicks:B.absoluteTime-h.absoluteTime,midi:h.noteNumber,noteOffVelocity:B.velocity/127,ticks:h.absoluteTime,velocity:h.velocity/127})}},v=this;d.length;)y();var p=l.filter(function(h){return h.type==="controller"});p.forEach(function(h){o.addCC({number:h.controllerType,ticks:h.absoluteTime,value:h.value/127})});var g=l.filter(function(h){return h.type==="pitchBend"});g.forEach(function(h){o.addPitchBend({ticks:h.absoluteTime,value:h.value/Math.pow(2,13)})});var x=l.find(function(h){return h.type==="endOfTrack"});this.endOfTrackTicks=x!==void 0?x.absoluteTime:void 0}}return c.prototype.addNote=function(l){var i=r.get(this),o=new e.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},i);return Object.assign(o,l),(0,t.insert)(this.notes,o,"ticks"),this},c.prototype.addCC=function(l){var i=r.get(this),o=new n.ControlChange({controllerType:l.number},i);return delete l.number,Object.assign(o,l),Array.isArray(this.controlChanges[o.number])||(this.controlChanges[o.number]=[]),(0,t.insert)(this.controlChanges[o.number],o,"ticks"),this},c.prototype.addPitchBend=function(l){var i=r.get(this),o=new u.PitchBend({},i);return Object.assign(o,l),(0,t.insert)(this.pitchBends,o,"ticks"),this},Object.defineProperty(c.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var l=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,i=0;i<this.notes.length-1;i++){var o=this.notes[i].time+this.notes[i].duration;l<o&&(l=o)}return l},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var l=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,i=0;i<this.notes.length-1;i++){var o=this.notes[i].ticks+this.notes[i].durationTicks;l<o&&(l=o)}return l},enumerable:!1,configurable:!0}),c.prototype.fromJSON=function(l){var i=this;this.name=l.name,this.channel=l.channel,this.instrument=new s.Instrument(void 0,this),this.instrument.fromJSON(l.instrument),l.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=l.endOfTrackTicks);for(var o in l.controlChanges)l.controlChanges[o]&&l.controlChanges[o].forEach(function(m){i.addCC({number:m.number,ticks:m.ticks,value:m.value})});l.notes.forEach(function(m){i.addNote({durationTicks:m.durationTicks,midi:m.midi,ticks:m.ticks,velocity:m.velocity})})},c.prototype.toJSON=function(){for(var l={},i=0;i<127;i++)this.controlChanges.hasOwnProperty(i)&&(l[i]=this.controlChanges[i].map(function(m){return m.toJSON()}));var o={channel:this.channel,controlChanges:l,pitchBends:this.pitchBends.map(function(m){return m.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(m){return m.toJSON()})};return this.endOfTrackTicks!==void 0&&(o.endOfTrackTicks=this.endOfTrackTicks),o},c}();return j.Track=f,j}var _={};function Wt(t){var n=[];return Le(t,n),n}function Le(t,n){for(var a=0;a<t.length;a++){var u=t[a];Array.isArray(u)?Le(u,n):n.push(u)}}const Ht=Object.freeze(Object.defineProperty({__proto__:null,flatten:Wt},Symbol.toStringTag,{value:"Module"})),Xt=qt(Ht);var Ue;function Yt(){if(Ue)return _;Ue=1;var t=_&&_.__spreadArray||function(p,g,x){if(x||arguments.length===2)for(var h=0,k=g.length,B;h<k;h++)(B||!(h in g))&&(B||(B=Array.prototype.slice.call(g,0,h)),B[h]=g[h]);return p.concat(B||Array.prototype.slice.call(g))};Object.defineProperty(_,"__esModule",{value:!0}),_.encode=void 0;var n=_e(),a=ue(),u=Xt;function s(p,g){return[{absoluteTime:p.ticks,channel:g,deltaTime:0,noteNumber:p.midi,type:"noteOn",velocity:Math.floor(p.velocity*127)},{absoluteTime:p.ticks+p.durationTicks,channel:g,deltaTime:0,noteNumber:p.midi,type:"noteOff",velocity:Math.floor(p.noteOffVelocity*127)}]}function e(p){return(0,u.flatten)(p.notes.map(function(g){return s(g,p.channel)}))}function r(p,g){return{absoluteTime:p.ticks,channel:g,controllerType:p.number,deltaTime:0,type:"controller",value:Math.floor(p.value*127)}}function f(p){for(var g=[],x=0;x<127;x++)p.controlChanges.hasOwnProperty(x)&&p.controlChanges[x].forEach(function(h){g.push(r(h,p.channel))});return g}function c(p,g){return{absoluteTime:p.ticks,channel:g,deltaTime:0,type:"pitchBend",value:p.value}}function l(p){var g=[];return p.pitchBends.forEach(function(x){g.push(c(x,p.channel))}),g}function i(p){return{absoluteTime:0,channel:p.channel,deltaTime:0,programNumber:p.instrument.number,type:"programChange"}}function o(p){return{absoluteTime:0,deltaTime:0,meta:!0,text:p,type:"trackName"}}function m(p){return{absoluteTime:p.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/p.bpm),type:"setTempo"}}function d(p){return{absoluteTime:p.ticks,deltaTime:0,denominator:p.timeSignature[1],meta:!0,metronome:24,numerator:p.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function b(p){var g=a.keySignatureKeys.indexOf(p.key);return{absoluteTime:p.ticks,deltaTime:0,key:g+7,meta:!0,scale:p.scale==="major"?0:1,type:"keySignature"}}function y(p){return{absoluteTime:p.ticks,deltaTime:0,meta:!0,text:p.text,type:p.type}}function v(p){var g={header:{format:1,numTracks:p.tracks.length+1,ticksPerBeat:p.header.ppq},tracks:t([t(t(t(t([{absoluteTime:0,deltaTime:0,meta:!0,text:p.header.name,type:"trackName"}],p.header.keySignatures.map(function(x){return b(x)}),!0),p.header.meta.map(function(x){return y(x)}),!0),p.header.tempos.map(function(x){return m(x)}),!0),p.header.timeSignatures.map(function(x){return d(x)}),!0)],p.tracks.map(function(x){return t(t(t([o(x.name),i(x)],e(x),!0),f(x),!0),l(x),!0)}),!0)};return g.tracks=g.tracks.map(function(x){x=x.sort(function(k,B){return k.absoluteTime-B.absoluteTime});var h=0;return x.forEach(function(k){k.deltaTime=k.absoluteTime-h,h=k.absoluteTime,delete k.absoluteTime}),x.push({deltaTime:0,meta:!0,type:"endOfTrack"}),x}),new Uint8Array((0,n.writeMidi)(g))}return _.encode=v,_}var Me;function Kt(){return Me||(Me=1,function(t){var n=N&&N.__awaiter||function(o,m,d,b){function y(v){return v instanceof d?v:new d(function(p){p(v)})}return new(d||(d=Promise))(function(v,p){function g(k){try{h(b.next(k))}catch(B){p(B)}}function x(k){try{h(b.throw(k))}catch(B){p(B)}}function h(k){k.done?v(k.value):y(k.value).then(g,x)}h((b=b.apply(o,m||[])).next())})},a=N&&N.__generator||function(o,m){var d={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},b,y,v,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(h){return function(k){return x([h,k])}}function x(h){if(b)throw new TypeError("Generator is already executing.");for(;d;)try{if(b=1,y&&(v=h[0]&2?y.return:h[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,h[1])).done)return v;switch(y=0,v&&(h=[h[0]&2,v.value]),h[0]){case 0:case 1:v=h;break;case 4:return d.label++,{value:h[1],done:!1};case 5:d.label++,y=h[1],h=[0];continue;case 7:h=d.ops.pop(),d.trys.pop();continue;default:if(v=d.trys,!(v=v.length>0&&v[v.length-1])&&(h[0]===6||h[0]===2)){d=0;continue}if(h[0]===3&&(!v||h[1]>v[0]&&h[1]<v[3])){d.label=h[1];break}if(h[0]===6&&d.label<v[1]){d.label=v[1],v=h;break}if(v&&d.label<v[2]){d.label=v[2],d.ops.push(h);break}v[2]&&d.ops.pop(),d.trys.pop();continue}h=m.call(o,d)}catch(k){h=[6,k],y=0}finally{b=v=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Track=t.Midi=void 0;var u=_e(),s=ue(),e=Ce(),r=Yt(),f=function(){function o(m){var d=this,b=null;if(m){var y=m instanceof ArrayBuffer?new Uint8Array(m):m;b=(0,u.parseMidi)(y),b.tracks.forEach(function(v){var p=0;v.forEach(function(g){p+=g.deltaTime,g.absoluteTime=p})}),b.tracks=i(b.tracks)}this.header=new s.Header(b),this.tracks=[],m&&(this.tracks=b.tracks.map(function(v){return new e.Track(v,d.header)}),b.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return o.fromUrl=function(m){return n(this,void 0,void 0,function(){var d,b;return a(this,function(y){switch(y.label){case 0:return[4,fetch(m)];case 1:return d=y.sent(),d.ok?[4,d.arrayBuffer()]:[3,3];case 2:return b=y.sent(),[2,new o(b)];case 3:throw new Error("Could not load '".concat(m,"'"))}})})},Object.defineProperty(o.prototype,"name",{get:function(){return this.header.name},set:function(m){this.header.name=m},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"duration",{get:function(){var m=this.tracks.map(function(d){return d.duration});return Math.max.apply(Math,m)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"durationTicks",{get:function(){var m=this.tracks.map(function(d){return d.durationTicks});return Math.max.apply(Math,m)},enumerable:!1,configurable:!0}),o.prototype.addTrack=function(){var m=new e.Track(void 0,this.header);return this.tracks.push(m),m},o.prototype.toArray=function(){return(0,r.encode)(this)},o.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(m){return m.toJSON()})}},o.prototype.fromJSON=function(m){var d=this;this.header=new s.Header,this.header.fromJSON(m.header),this.tracks=m.tracks.map(function(b){var y=new e.Track(void 0,d.header);return y.fromJSON(b),y})},o.prototype.clone=function(){var m=new o;return m.fromJSON(this.toJSON()),m},o}();t.Midi=f;var c=Ce();Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return c.Track}});var l=ue();Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return l.Header}});function i(o){for(var m=[],d=0;d<o.length;d++)for(var b=m.length,y=new Map,v=Array(16).fill(0),p=0,g=o[d];p<g.length;p++){var x=g[p],h=b,k=x.channel;if(k!==void 0){x.type==="programChange"&&(v[k]=x.programNumber);var B=v[k],q="".concat(B," ").concat(k);y.has(q)?h=y.get(q):(h=b+y.size,y.set(q,h))}m[h]||m.push([]),m[h].push(x)}return m}}(N)),N}var Jt=Kt();class Gt{constructor(){L(this,"audioCtx",null);L(this,"notes",[]);L(this,"currentIndex",0);L(this,"wrongAttempts",0);L(this,"midiLoaded",!1)}init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext))}async loadMidi(n){this.audioCtx||this.init();const u=await(await fetch(n)).arrayBuffer(),s=new Jt.Midi(u);let e=!1;s.tracks[1].notes.length>0&&(this.notes=s.tracks[1].notes.map(r=>({name:r.name,freq:this.midiToFreq(r.midi)})),e=!0),e?console.log("Sounds good.",this.notes.length):console.warn("Error. Something went wrong somewhere. Contact dev."),this.currentIndex=0,this.midiLoaded=e}playNote(n,a=.4){if(!this.audioCtx)return;const u=this.audioCtx.createOscillator(),s=this.audioCtx.createGain();u.frequency.value=n,u.type="sine",u.connect(s),s.connect(this.audioCtx.destination),s.gain.setValueAtTime(.2,this.audioCtx.currentTime),s.gain.exponentialRampToValueAtTime(.001,this.audioCtx.currentTime+a),u.start(),u.stop(this.audioCtx.currentTime+a)}playErrorSound(){this.playNote(150,.3)}onWrongWord(){if(this.wrongAttempts++,this.wrongAttempts<20||!this.midiLoaded)this.playErrorSound();else{const n=this.notes[this.currentIndex];n&&(this.playNote(n.freq),this.currentIndex=(this.currentIndex+1)%this.notes.length)}}reset(){this.wrongAttempts=0,this.currentIndex=0}midiToFreq(n){return 440*Math.pow(2,(n-69)/12)}}const ae=new Gt;function Qt(){const t=C(""),n=C(""),a=C([]),u=Nt(),{play:s}=Ot(_t),e=X(()=>u.title),r=X(()=>u.hiddenContent),f=X(()=>u.totalWords),c=X(()=>u.totalRevealedWords),l=()=>{u.init(),ae.init(),ae.loadMidi(Dt)},i=()=>{ae.onWrongWord()},o=()=>{const d=m(t.value);let b=!1;const y=u.searchAndRevealWorld(d);y>0?(n.value="Mot trouvé",t.value="",b=!0,s()):(n.value="Mot non trouvé",t.value="",b=!1,i());const v={id:a.value.length+1,word:d,isValid:b,count:y};a.value.unshift(v)},m=d=>d.trim().toLowerCase();return{init:l,searchQuery:t,searchResult:n,submitWord:o,title:e,currentText:r,totalWords:f,searchHistory:a,totalRevealedWords:c}}const Zt={class:"grid lg:grid-cols-5 gap-5 grid-cols-2"},en={class:"col-span-4"},tn={class:"md:columns-1 gap-10 sm:columns-1"},nn={key:0},rn=["onClick"],an={key:0},sn={key:1},on={class:"invisible"},un={class:"lg:col-span-1 pl-5 hidden lg:block"},ln={class:"lg:columns-1 columns-2"},cn={class:"pt-4 col-span-5"},dn={class:"flex gap-1 justify-center"},fn={class:"lg:pb-0 pb-5"},pn={class:"text-sm text-primary place-self-end pb-1 pt-2"},hn={class:"block lg:hidden"},mn={class:"md:columns-4 columns-2"},vn=Pe({__name:"BlindText",props:{msg:{}},setup(t){const{init:n,searchQuery:a,submitWord:u,currentText:s,totalWords:e,totalRevealedWords:r,searchHistory:f}=Qt();He(async()=>n());const c=C(!1),l=X(()=>Math.trunc(r.value*100/e.value)),i=(m,d)=>{console.log(s.value[m].blindWords[d].word.length)},o=()=>{c.value=!c.value};return(m,d)=>(I(),$(A,null,[T("div",Zt,[T("div",en,[T("div",tn,[(I(!0),$(A,null,K(w(s),(b,y)=>(I(),$("div",{key:y,class:"break-inside-avoid flex flex-no-wrap gap-x-2 pb-1"},[b.breakLine?(I(),$("br",nn)):(I(!0),$(A,{key:1},K(b.blindWords,(v,p)=>(I(),$("span",{key:p,onClick:g=>i(y,p),class:"relative inline-block px-1"},[v.isRevealed?(I(),$("span",an,S(v.word),1)):U("",!0),v.isRevealed?U("",!0):(I(),$("div",sn,[T("span",on,S(v.word),1),d[1]||(d[1]=T("span",{class:"absolute left-0 top-0 h-full w-full highlight-hidden-text rounded"},null,-1))]))],8,rn))),128))]))),128))])]),T("div",un,[P(w(oe),{style:{width:"100%",height:"70vh"}},{default:J(()=>[P(w(se),null,{content:J(()=>[T("ul",ln,[(I(!0),$(A,null,K(w(f),(b,y)=>(I(),$("li",{key:y,class:pe([b.isValid?"text-success":"text-error","flex items-center justify-between"])},[T("span",null,S(b.id)+". "+S(b.word),1),b.count>0?(I(),ee(w(he),{key:0,size:"small",severity:"secondary",value:b.count},null,8,["value"])):U("",!0)],2))),128))])]),_:1})]),_:1})])]),T("div",cn,[T("div",dn,[P(w(Ne),{modelValue:w(a),"onUpdate:modelValue":d[0]||(d[0]=b=>Xe(a)?a.value=b:null),onKeyup:[de(w(u),["enter"]),de(w(u),["space"])],placeholder:"Find a word",class:"rounded-left rounded-input"},null,8,["modelValue","onKeyup"]),P(w(fe),{onClick:w(u),icon:"pi pi-send",size:"small",class:"rounded-right rounded-button"},null,8,["onClick"])]),T("div",fn,[T("p",pn,S(w(r))+" / "+S(w(e))+" words ",1),P(w(Oe),{value:l.value},null,8,["value"])]),T("div",hn,[P(w(fe),{outlined:"",rounded:"",size:"small",label:c.value?"Hide history":"Show history",icon:c.value?"pi pi-angle-down":"pi pi-angle-up",onClick:o},null,8,["label","icon"]),c.value?(I(),ee(w(oe),{key:0,style:{width:"100%",height:"20vh"},class:"pt-5"},{default:J(()=>[P(w(se),null,{content:J(()=>[T("ul",mn,[(I(!0),$(A,null,K(w(f),(b,y)=>(I(),$("li",{key:y,class:pe([b.isValid?"text-success":"text-error","flex items-center justify-between"])},[T("span",null,S(b.id)+". "+S(b.word),1),b.count>0?(I(),ee(w(he),{key:0,size:"small",severity:"secondary",value:b.count},null,8,["value"])):U("",!0)],2))),128))])]),_:1})]),_:1})):U("",!0)])])],64))}}),bn=Ye(vn,[["__scopeId","data-v-e96c42a8"]]),gn={class:"game"},yn=Pe({__name:"GameVue",setup(t){return(n,a)=>(I(),$("main",gn,[P(bn,{msg:"BlindText"})]))}}),$n=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"}));export{$n as G,wn as c,In as g};
